# ML for Cloudphase (Goldberger & Levin 2024)

Code for "Implementing Machine Learning Models for Predicting Thermodynamic Cloud Phase with Atmospheric Radiation Measurement (ARM) Facility Instrumentation and Value Added Products", submitted to AMT.

## Data

### Raw Data

`data/raw/nsathermocldphaseC1.c1`:  Thermodynamic cloud phase data from the ARM program for the North Slope of Alaska site, which will be preprocessed and used as input for the models. The full dataset is too large to host externally (250+ GB), so a small subset of the data is included here. The the full dataset used as input is [available here](https://adc.arm.gov/discovery/#/results/id::nsathermocldphaseC1.c1_cloud_phase_mplgr_macro_thermocloudphase_cloud?dataLevel=c1&showDetails=true).

Atmospheric Radiation Measurement (ARM) user facility. 2018. Thermodynamic cloud phase (THERMOCLDPHASE). 2018-01-01 to 2022-12-31, North Slope Alaska (NSA) Central Facility, Barrow AK (C1). Compiled by D. Zhang and M. Levin. ARM Data Center. Data set accessed 2024-08-16 at <http://dx.doi.org/10.5439/1871014>.

### Output Data

The processed ML outputs on the test NSA dataset and the ANX dataset can be found here:

- <https://doi.org/10.5439/2568095>
- <https://adc.arm.gov/discovery/#/results/id::285_macro_thermocloudphase-ml_cloud_cloudphase>
- <https://iop.arm.gov/0pi-data/levin/thermocloudphase-ml/>
- <https://www.arm.gov/data/data-sources/pi-thermocloudphase-ml-285>

`data/processed/summary_metrics.parquet`: Summary file of results of the instrument ablation study. Generated by `notebooks/instrument_ablation.ipynb`

## Setup

The code was written with python 3.11 and requires python dependencies listed in the `environment.yml` file.

If you have conda installed, you may run

```shell
conda env create
```

to create the python environment used to develop and run this codebase for the paper.
